// Generated by CoffeeScript 1.6.3
(function() {
  var BigBuffer, LineReaderSync;

  BigBuffer = require("bigbuffer");

  LineReaderSync = (function() {
    function LineReaderSync(path) {
      this.bb = BigBuffer.fromFileSync(path);
      this.index = 0;
    }

    LineReaderSync.prototype.readline = function() {
      var bb, end, lineCode, result;
      lineCode = "\n".charCodeAt(0);
      bb = this.bb;
      if (this.index === bb.length) {
        return null;
      }
      if (bb.byteAt(this.index) === "\n") {
        this.index++;
        return "";
      }
      end = this.index;
      while (end < bb.length) {
        if (lineCode === bb.byteAt(end)) {
          result = bb.slice(this.index, end).toString();
          this.index = end + 1;
          return result;
        }
        end = end + 1;
      }
      this.index = bb.length;
      return bb.slice(this.index, end).toString();
    };

    return LineReaderSync;

  })();

  module.exports = LineReaderSync;

}).call(this);
